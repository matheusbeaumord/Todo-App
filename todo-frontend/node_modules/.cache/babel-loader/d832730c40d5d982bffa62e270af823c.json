{"ast":null,"code":"var _jsxFileName = \"/home/matheus/Todo-App/todo-frontend/src/pages/TodoPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport TodoList from \"../components/TodoList\";\nimport TodoInput from \"../components/TodoInput\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { getAllTodos, createTodo, getTaskById, updateTodo, removeTasks } from \"../helpers/APIHelpers\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction TodoPage() {\n  _s();\n\n  const [todos, setTodos] = useState([]);\n  const [todo, setTodo] = useState(\"\");\n  const [edit, setEdit] = useState(false);\n  const [id, setId] = useState(false);\n  const [items, setItems] = useState([]);\n  const [filter, setFilter] = useState(\"\");\n\n  const notifyDone = () => toast(\"✅ Checked Done!\", {\n    position: \"top-right\",\n    autoClose: 2000,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true,\n    progress: undefined\n  });\n\n  const notifyDelete = () => toast(\"🗑️ Checked Delete!\", {\n    position: \"top-right\",\n    autoClose: 2000,\n    hideProgressBar: false,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true,\n    progress: undefined\n  });\n\n  const data = new Date();\n  const newDate = data.getHours() + \":\" + data.getMinutes() + \" - \" + data.getDate() + \"/\" + (data.getMonth() + 1) + \"/\" + data.getFullYear();\n\n  const getAllTasks = async () => {\n    const listTodos = await getAllTodos();\n    const result = listTodos.filter(item => !item.completed && !item.deleted);\n    setItems(listTodos);\n    setTodos(result);\n  };\n\n  useEffect(() => {\n    getAllTasks();\n  }, []);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    if (!todo) {\n      alert(\"please enter something\");\n      return;\n    }\n\n    if (items.some(({\n      task\n    }) => task === todo)) {\n      alert(`Task: ${todo} already exists`);\n      return;\n    }\n\n    const newTodo = await createTodo({\n      task: todo,\n      date: newDate\n    });\n    setTodos([...todos, newTodo]);\n    setTodo(\"\");\n  };\n\n  const handleDelete = async (e, id) => {\n    e.stopPropagation();\n    const {\n      data: {\n        _id,\n        task,\n        deleted\n      }\n    } = await getTaskById(id);\n\n    if (deleted) {\n      const completedTrue = await updateTodo(_id, {\n        task: task,\n        deleted: false,\n        date: newDate\n      });\n      setFilter(\"todo\");\n      notifyDelete();\n      getAllTasks();\n      return completedTrue;\n    }\n\n    await updateTodo(_id, {\n      task: task,\n      deleted: true,\n      date: newDate\n    });\n    setFilter(\"todo\");\n    notifyDelete();\n    getAllTasks();\n  };\n\n  const handleEdit = async (e, id) => {\n    e.stopPropagation();\n    const {\n      data\n    } = await getTaskById(id);\n    setTodo(data.task);\n    setEdit(true);\n    setId(id);\n  };\n\n  const updateTask = async e => {\n    try {\n      e.stopPropagation();\n      await updateTodo(id, {\n        task: todo,\n        date: newDate\n      });\n    } catch (error) {}\n  };\n\n  const excludeTasks = async e => {\n    const r = window.confirm(\"Are you sure?\");\n\n    if (r === true) {\n      e.preventDefault();\n      await removeTasks();\n      setFilter(\"todo\");\n      getAllTasks();\n    }\n  };\n\n  const doneTask = async (e, id) => {\n    e.stopPropagation();\n    const {\n      data: {\n        _id,\n        task,\n        completed\n      }\n    } = await getTaskById(id);\n\n    if (completed) {\n      const completedTrue = await updateTodo(_id, {\n        task: task,\n        completed: false,\n        date: newDate\n      });\n      setFilter(\"todo\");\n      notifyDone();\n      getAllTasks();\n      return completedTrue;\n    }\n\n    await updateTodo(_id, {\n      task: task,\n      completed: true,\n      date: newDate\n    });\n    setFilter(\"todo\");\n    notifyDone();\n    getAllTasks();\n  };\n\n  const updateTodosToShow = value => {\n    switch (value) {\n      case \"todo\":\n        getAllTasks();\n        setFilter(value);\n        break;\n\n      case \"done\":\n        setTodos(items.filter(item => item.completed));\n        setFilter(value);\n        break;\n\n      case \"deleted\":\n        setTodos(items.filter(item => item.deleted));\n        setFilter(value);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const handleChange = ({\n    target\n  }) => setTodo(target.value);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-10 col-md-8 mx-auto mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-capitalize text-center\",\n          children: \"Todo List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TodoInput, {\n          todo: todo,\n          handleChange: handleChange,\n          handleSubmit: handleSubmit,\n          updateTask: updateTask,\n          edit: edit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TodoList, {\n          edit: edit,\n          todos: todos,\n          handleDelete: handleDelete,\n          handleEdit: handleEdit,\n          excludeTasks: excludeTasks,\n          doneTask: doneTask,\n          updateTodosToShow: updateTodosToShow,\n          filter: filter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {\n          position: \"top-right\",\n          autoClose: 2000,\n          hideProgressBar: false,\n          newestOnTop: false,\n          closeOnClick: true,\n          rtl: false,\n          pauseOnFocusLoss: true,\n          draggable: true,\n          pauseOnHover: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TodoPage, \"h3cL3Jtc6TgMoRicwqACp05KPvs=\");\n\n_c = TodoPage;\nexport default TodoPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"TodoPage\");","map":{"version":3,"sources":["/home/matheus/Todo-App/todo-frontend/src/pages/TodoPage.js"],"names":["React","useEffect","useState","TodoList","TodoInput","ToastContainer","toast","getAllTodos","createTodo","getTaskById","updateTodo","removeTasks","TodoPage","todos","setTodos","todo","setTodo","edit","setEdit","id","setId","items","setItems","filter","setFilter","notifyDone","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","notifyDelete","data","Date","newDate","getHours","getMinutes","getDate","getMonth","getFullYear","getAllTasks","listTodos","result","item","completed","deleted","handleSubmit","e","preventDefault","alert","some","task","newTodo","date","handleDelete","stopPropagation","_id","completedTrue","handleEdit","updateTask","error","excludeTasks","r","window","confirm","doneTask","updateTodosToShow","value","handleChange","target"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport TodoList from \"../components/TodoList\";\nimport TodoInput from \"../components/TodoInput\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport {\n  getAllTodos,\n  createTodo,\n  getTaskById,\n  updateTodo,\n  removeTasks,\n} from \"../helpers/APIHelpers\";\n\nfunction TodoPage() {\n  const [todos, setTodos] = useState([]);\n  const [todo, setTodo] = useState(\"\");\n  const [edit, setEdit] = useState(false);\n  const [id, setId] = useState(false);\n  const [items, setItems] = useState([]);\n  const [filter, setFilter] = useState(\"\");\n\n  const notifyDone = () =>\n    toast(\"✅ Checked Done!\", {\n      position: \"top-right\",\n      autoClose: 2000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n    });\n\n  const notifyDelete = () =>\n    toast(\"🗑️ Checked Delete!\", {\n      position: \"top-right\",\n      autoClose: 2000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n    });\n\n  const data = new Date();\n  const newDate =\n    data.getHours() +\n    \":\" +\n    data.getMinutes() +\n    \" - \" +\n    data.getDate() +\n    \"/\" +\n    (data.getMonth() + 1) +\n    \"/\" +\n    data.getFullYear();\n\n  const getAllTasks = async () => {\n    const listTodos = await getAllTodos();\n    const result = listTodos.filter((item) => !item.completed && !item.deleted);\n    setItems(listTodos);\n    setTodos(result);\n  };\n\n  useEffect(() => {\n    getAllTasks();\n  }, []);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!todo) {\n      alert(\"please enter something\");\n      return;\n    }\n    if (items.some(({ task }) => task === todo)) {\n      alert(`Task: ${todo} already exists`);\n      return;\n    }\n    const newTodo = await createTodo({ task: todo, date: newDate });\n    setTodos([...todos, newTodo]);\n    setTodo(\"\");\n  };\n\n  const handleDelete = async (e, id) => {\n    e.stopPropagation();\n    const {\n      data: { _id, task, deleted },\n    } = await getTaskById(id);\n    if (deleted) {\n      const completedTrue = await updateTodo(_id, {\n        task: task,\n        deleted: false,\n        date: newDate,\n      });\n      setFilter(\"todo\");\n      notifyDelete();\n      getAllTasks();\n      return completedTrue;\n    }\n    await updateTodo(_id, { task: task, deleted: true, date: newDate });\n    setFilter(\"todo\");\n    notifyDelete();\n    getAllTasks();\n  };\n\n  const handleEdit = async (e, id) => {\n    e.stopPropagation();\n    const { data } = await getTaskById(id);\n    setTodo(data.task);\n    setEdit(true);\n    setId(id);\n  };\n\n  const updateTask = async (e) => {\n    try {\n      e.stopPropagation();\n      await updateTodo(id, { task: todo, date: newDate });\n    } catch (error) {}\n  };\n\n  const excludeTasks = async (e) => {\n    const r = window.confirm(\"Are you sure?\");\n    if (r === true) {\n      e.preventDefault();\n      await removeTasks();\n      setFilter(\"todo\");\n      getAllTasks();\n    }\n  };\n\n  const doneTask = async (e, id) => {\n    e.stopPropagation();\n    const {\n      data: { _id, task, completed },\n    } = await getTaskById(id);\n    if (completed) {\n      const completedTrue = await updateTodo(_id, {\n        task: task,\n        completed: false,\n        date: newDate,\n      });\n      setFilter(\"todo\");\n      notifyDone();\n      getAllTasks();\n      return completedTrue;\n    }\n    await updateTodo(_id, { task: task, completed: true, date: newDate });\n    setFilter(\"todo\");\n    notifyDone();\n    getAllTasks();\n  };\n\n  const updateTodosToShow = (value) => {\n    switch (value) {\n      case \"todo\":\n        getAllTasks();\n        setFilter(value);\n        break;\n      case \"done\":\n        setTodos(items.filter((item) => item.completed));\n        setFilter(value);\n        break;\n      case \"deleted\":\n        setTodos(items.filter((item) => item.deleted));\n        setFilter(value);\n        break;\n      default:\n        break;\n    }\n  };\n\n  const handleChange = ({ target }) => setTodo(target.value);\n\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-10 col-md-8 mx-auto mt-4\">\n          <h3 className=\"text-capitalize text-center\">Todo List</h3>\n          <TodoInput\n            todo={todo}\n            handleChange={handleChange}\n            handleSubmit={handleSubmit}\n            updateTask={updateTask}\n            edit={edit}\n          />\n          <TodoList\n            edit={edit}\n            todos={todos}\n            handleDelete={handleDelete}\n            handleEdit={handleEdit}\n            excludeTasks={excludeTasks}\n            doneTask={doneTask}\n            updateTodosToShow={updateTodosToShow}\n            filter={filter}\n          />\n          <ToastContainer\n            position=\"top-right\"\n            autoClose={2000}\n            hideProgressBar={false}\n            newestOnTop={false}\n            closeOnClick\n            rtl={false}\n            pauseOnFocusLoss\n            draggable\n            pauseOnHover\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default TodoPage;\n"]},"metadata":{},"sourceType":"module"}